import{u as e}from"./auth-d0a18506.js";import{p as a,e as s,I as l,R as r,S as o,T as d,o as u,A as n,h as t,i,w as m,k as p,j as g,Q as c,P as f,U as w,v as b,W as v}from"./vendor-14dfef14.js";import"./index-c024a321.js";a("data-v-587f437e");const V={class:"login-container"},_=t("div",{class:"bg-voting"},null,-1),h={class:"bg1"},x=t("h1",{class:"title"},"甄步绰投票系统",-1),P=t("p",{class:"desc"}," —— 该系统的功能有发布、下线，创建、删除、编辑投票问卷等功能，用户可通过发布的问卷链接进行投票 ",-1),U={class:"login-wrapper"},y=g(" 登 录 "),q=g(" 注 册 "),F=t("footer",{class:"footer"},"© GGS · 甄步绰小组",-1),j=t("div",{class:"bg2"},null,-1),k=t("div",{class:"bg3"},null,-1);s();const C={setup(a){const{userLogin:s,loading:g,userRegister:C}=e(),G=l("right"),I=l(null),R=r({username:"",password:""}),S=r({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}]}),A=()=>{I.value.validate((async e=>{if(e){const e={username:R.username,password:R.password};await s(e)}else c.error("账号或密码不符合参数要求")}))},L=l("first"),Q=l(null),T=r({username:"",password:"",confirmPassword:""}),W=r({username:[{required:!0,message:"请输入要注册的用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{min:6,max:18,message:"长度在 6 到 18 个字符",trigger:"blur"}]}),z=()=>{Q.value.validate((async e=>{e?T.password===T.confirmPassword?(await C({username:T.username,password:T.password}),Q.value.resetFields()):c.error("密码不一致"):c.error("账号或密码不符合参数要求")}))};return(e,a)=>{const s=f,l=w,r=b,c=v,C=o,B=d;return u(),n("div",V,[_,t("div",h,[x,P,t("div",U,[i(B,{modelValue:L.value,"onUpdate:modelValue":a[5]||(a[5]=e=>L.value=e),type:"border-card"},{default:m((()=>[i(C,{label:"登录",name:"first",class:"tab"},{default:m((()=>[i(c,{"label-position":G.value,"label-width":"80px",model:p(R),rules:p(S),ref:(e,a)=>{a.loginForm=e,I.value=e},class:"login-From"},{default:m((()=>[i(l,{label:"用户名",prop:"username"},{default:m((()=>[i(s,{modelValue:p(R).username,"onUpdate:modelValue":a[0]||(a[0]=e=>p(R).username=e)},null,8,["modelValue"])])),_:1}),i(l,{label:"密码",prop:"password"},{default:m((()=>[i(s,{"show-password":"",modelValue:p(R).password,"onUpdate:modelValue":a[1]||(a[1]=e=>p(R).password=e)},null,8,["modelValue"])])),_:1}),i(l,null,{default:m((()=>[i(r,{loading:p(g),type:"primary",onClick:A,class:"btns"},{default:m((()=>[y])),_:1},8,["loading"])])),_:1})])),_:1},8,["label-position","model","rules"])])),_:1}),i(C,{label:"注册",name:"second",class:"tab"},{default:m((()=>[i(c,{"label-position":G.value,"label-width":"80px",model:p(T),rules:p(W),ref:(e,a)=>{a.registerForm=e,Q.value=e},class:"register-From"},{default:m((()=>[i(l,{label:"用户名",prop:"username"},{default:m((()=>[i(s,{modelValue:p(T).username,"onUpdate:modelValue":a[2]||(a[2]=e=>p(T).username=e)},null,8,["modelValue"])])),_:1}),i(l,{label:"密码",prop:"password"},{default:m((()=>[i(s,{"show-password":"",modelValue:p(T).password,"onUpdate:modelValue":a[3]||(a[3]=e=>p(T).password=e)},null,8,["modelValue"])])),_:1}),i(l,{label:"确认密码",prop:"confirmPassword"},{default:m((()=>[i(s,{"show-password":"",modelValue:p(T).confirmPassword,"onUpdate:modelValue":a[4]||(a[4]=e=>p(T).confirmPassword=e)},null,8,["modelValue"])])),_:1}),i(l,null,{default:m((()=>[i(r,{loading:p(g),type:"success",onClick:z,class:"btns"},{default:m((()=>[q])),_:1},8,["loading"])])),_:1})])),_:1},8,["label-position","model","rules"])])),_:1})])),_:1},8,["modelValue"])]),F,j,k])])}},__scopeId:"data-v-587f437e"};export{C as default};
